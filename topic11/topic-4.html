<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Franklin Bristow" />
  <title>Run a command within a container</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../styles.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" />
</head>
<body>

<div id="main-outer-box">

<div id="my-header">
  <a href="../index.html">Introduction to Tools and Techniques in Computer Science</a>
</div>

<div id="trunk-box">

<div id="nav-box">
<p>Contents:</p>
<ul>
<li>Setup, writing structured text, and file management
<ul>
<li><a href=".././topic01/topic-1.html">Introduction</a></li>
<li><a href=".././topic01/topic-2.html">Installing software on your
personal computer</a></li>
<li><a href=".././topic01/topic-3.html">Write plain text
documents</a></li>
<li><a href=".././topic01/topic-4.html">Converting documents to
different formats</a></li>
<li><a href=".././topic01/topic-5.html">Organizing your files</a></li>
<li><a href=".././topic01/topic-6.html">Summary</a></li>
</ul></li>
<li>Remote connections and command-line file management
<ul>
<li><a href=".././topic02/topic-0.html">Introduction</a></li>
<li><a href=".././topic02/topic-1.html">Connecting to a remote
computer</a></li>
<li><a href=".././topic02/topic-2.html">Command line file
management</a></li>
<li><a href=".././topic02/topic-3.html">Command line text
editing</a></li>
<li><a href=".././topic02/topic-4.html">Tab completion</a></li>
<li><a href=".././topic02/topic-5.html">Transferring files</a></li>
<li><a href=".././topic02/topic-6.html">handin</a></li>
<li><a href=".././topic02/topic-7.html">Summary</a></li>
</ul></li>
<li>Compiling and running code, version control
<ul>
<li><a href=".././topic03/topic-1.html">Introduction</a></li>
<li><a href=".././topic03/topic-2.html">Compiling and running
code</a></li>
<li><a href=".././topic03/topic-3.html">Version Control</a></li>
<li><a href=".././topic03/topic-4.html">Summary</a></li>
</ul></li>
<li>Advanced version control, project management
<ul>
<li><a href=".././topic04/topic-1.html">Introduction</a></li>
<li><a href=".././topic04/topic-2.html">Advanced version
control</a></li>
<li><a href=".././topic04/topic-3.html">Managing personal
projects</a></li>
<li><a href=".././topic04/topic-4.html">Summary</a></li>
</ul></li>
<li>Advanced shell usage
<ul>
<li><a href=".././topic05/topic-1.html">Introduction</a></li>
<li><a href=".././topic05/topic-2.html">Finding files</a></li>
<li><a href=".././topic05/topic-3.html">Filtering lines</a></li>
<li><a href=".././topic05/topic-4.html">Reading and changing
permissions</a></li>
<li><a href=".././topic05/topic-5.html">Comparing plain text
files</a></li>
<li><a href=".././topic05/topic-6.html">Summary</a></li>
</ul></li>
<li>Digital notebooks and getting help
<ul>
<li><a href=".././topic06/topic-1.html">Introduction</a></li>
<li><a href=".././topic06/topic-2.html">Getting help</a></li>
<li><a href=".././topic06/topic-3.html">Getting help — Examples</a></li>
<li><a href=".././topic06/topic-4.html">Academic misconduct</a></li>
<li><a href=".././topic06/topic-5.html">Digital notebooks</a></li>
<li><a href=".././topic06/topic-6.html">Summary</a></li>
</ul></li>
<li>Debugging (strategies and usage)
<ul>
<li><a href=".././topic07/topic-1.html">Introduction</a></li>
<li><a href=".././topic07/topic-2.html">What even is debugging?</a></li>
<li><a href=".././topic07/topic-3.html">Debugging strategies</a></li>
<li><a href=".././topic07/topic-4.html">Debuggers</a></li>
<li><a href=".././topic07/topic-5.html">Visual Debuggers</a></li>
<li><a href=".././topic07/topic-6.html">Command-line Debuggers</a></li>
<li><a href=".././topic07/topic-7.html">Summary</a></li>
<li><a href=".././topic07/topic-8.html">Practice Questions</a></li>
</ul></li>
<li>Command-line environment
<ul>
<li><a href=".././topic08/topic-1.html">Introduction</a></li>
<li><a href=".././topic08/topic-2.html">Input and output on the command
line</a></li>
<li><a href=".././topic08/topic-3.html">Redirecting input and
output</a></li>
<li><a href=".././topic08/topic-4.html">Piping</a></li>
<li><a href=".././topic08/topic-5.html">Choose a backup
strategy</a></li>
<li><a href=".././topic08/topic-6.html">Install and configure back up
software</a></li>
<li><a href=".././topic08/topic-7.html">Summary</a></li>
</ul></li>
<li>Shell scripting
<ul>
<li><a href=".././topic09/topic-1.html">Introduction</a></li>
<li><a href=".././topic09/topic-2.html">Shell scripts</a></li>
<li><a href=".././topic09/topic-3.html">Arguments</a></li>
<li><a href=".././topic09/topic-4.html">Structures: conditional
statements and loops</a></li>
<li><a href=".././topic09/topic-5.html">Globs</a></li>
<li><a href=".././topic09/topic-6.html">Debugging shell scripts</a></li>
<li><a href=".././topic09/topic-7.html">Summary</a></li>
</ul></li>
<li>Build systems and dependency management
<ul>
<li><a href=".././topic10/topic-1.html">Introduction</a></li>
<li><a href=".././topic10/topic-2.html">Programs requiring
dependencies</a></li>
<li><a href=".././topic10/topic-3.html">Create a Makefile</a></li>
<li><a href=".././topic10/topic-4.html">Build and dependency
management</a></li>
<li><a href=".././topic10/topic-5.html">Summary</a></li>
</ul></li>
<li>Containers, virtual machines, and “The Cloud ™”
<ul>
<li><a href="topic-1.html">Introduction</a></li>
<li><a href="topic-2.html">Install and configure a virtual
machine</a></li>
<li><a href="topic-3.html">Download and use a pre-installed OS in VM
software</a></li>
<li><strong>Run a command within a container</strong></li>
<li><a href="topic-5.html">Initialize a server in a public
cloud</a></li>
<li><a href="topic-6.html">Summary</a></li>
<li><a href="hello-pandocker.html">Hello, Pandocker!</a></li>
</ul></li>
<li>Running your own Linux system
<ul>
<li><a href=".././topic12/topic-1.html">Introduction</a></li>
<li><a href=".././topic12/topic-2.html">Choose a Linux
distribution</a></li>
<li><a href=".././topic12/topic-3.html">Install a Linux
distribution</a></li>
<li><a href=".././topic12/topic-4.html">Install packages</a></li>
<li><a href=".././topic12/topic-5.html">Configure and run a web
server</a></li>
<li><a href=".././topic12/topic-6.html">Summary</a></li>
</ul></li>
<li><a href=".././README.html">About this book</a></li>
</ul>

</div>

<div id="article-box">

<div id="header-nav-bar">
<div><a href="topic-3.html">←prev</a></div><div class="nav-bar-push"><a href="topic-5.html">next→</a></div>
</div>

<div id="article-content">
<header id="title-block-header">
<h1 class="title">Run a command within a container</h1>
<p class="author">Franklin Bristow</p>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#run-a-command-within-a-container"
id="toc-run-a-command-within-a-container">Run a command within a
container</a>
<ul>
<li><a href="#install-docker-desktop"
id="toc-install-docker-desktop">Install Docker Desktop</a></li>
<li><a href="#run-a-command-within-a-container-1"
id="toc-run-a-command-within-a-container-1">Run a command within a
container</a></li>
<li><a href="#further-reading" id="toc-further-reading">Further
reading</a></li>
</ul></li>
</ul>
</nav>
<h1 id="run-a-command-within-a-container">Run a command within a
container</h1>
<div class="outcomes">
<ul class="task-list">
<li><label><input type="checkbox" checked="" />Run a command within a
container.</label></li>
</ul>
</div>
<p><a
href="https://en.wikipedia.org/wiki/OS-level_virtualization">Containers</a>
are related to virtual machines, but aren’t the same thing. The main
difference between a container and a virtual machine is that a container
<strong>does not</strong> contain or run an entire operating system.
Instead, containers run <em>within</em> an existing operating system.
The theory is that a container uses fewer resources because it doesn’t
carry all the extra baggage of a complete operating system.</p>
<p>One fairly common use of containers is to distribute complex software
and its dependencies as a single “image”, similar to what you downloaded
for SerenityOS when you were setting up a virtual machine. An image is
basically an archive of an operating system’s folder structure.</p>
<p>We could spend an entire course talking about the technical
foundations of containers (that would be an <em>amazing</em> systems
course), but in this course our goal is simple: install enough software
to get a command running in a container.</p>
<h2 id="install-docker-desktop">Install Docker Desktop</h2>
<p>Undoubtedly the most popular container management software is <a
href="https://www.docker.com">Docker</a>.</p>
<p>Docker has a highly polished visual environment for managing
containers called <a href="https://docs.docker.com/desktop/">Docker
Desktop</a>.</p>
<p>You should install Docker Desktop on your personal computer,
following the instructions provided in <a
href="https://docs.docker.com/get-docker/">Docker’s
documentation</a>.</p>
<div class="warning">
<p>If you’re installing Docker Desktop on Windows, you’re going to need
to install the Windows Subsystem for Linux. There’s a link in Docker’s
documentation, but for completeness, you can find <a
href="https://learn.microsoft.com/en-us/windows/wsl/install">documentation
about how to install WSL on Microsoft’s web site</a>.</p>
</div>
<h2 id="run-a-command-within-a-container-1">Run a command within a
container</h2>
<p>The simplest container command to run is “hello world”, so let’s
start with that, then move on to something a little more complex.</p>
<div class="example">
<p>Let’s start by running the Docker Desktop app on your computer. This
step isn’t required (you don’t need to start Docker Desktop before
running any commands), but gives us an idea of the kinds of things we
can do with Docker Desktop.</p>
<figure>
<img src="docker-desktop.png" alt="Docker Desktop." />
<figcaption aria-hidden="true">Docker Desktop.</figcaption>
</figure>
<p>We’re not going to do anything with Docker Desktop, but note the tabs
on the left:</p>
<ul>
<li><strong>Containers</strong>: This is a list of running containers
that you can inspect and interact with.</li>
<li><strong>Images</strong>: These are the container images that have
been downloaded for launching containers on your machine.</li>
<li><strong>Volumes</strong>: Containers can’t see or interact with the
files on your computer at all (they’re completely self-contained).
Volumes are a way for you to share folders from your computer to a
container so that you can either provide inputs or receive outputs from
a container.</li>
</ul>
<p>Let’s run a hello world container. If you had a terminal open before,
close your terminal and re-open it; your <code>PATH</code> variable
(yes, there is a <code>PATH</code> on all of Windows, macOS, and Linux)
was modified by Docker Desktop when you installed it.</p>
<p>Once your terminal is open again, run the following:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run hello-world</span></code></pre></div>
<p>You should see some output from Docker:</p>
<pre><code>PS C:\Users\you&gt; docker run hello-world
Unable to find image &#39;hello-world:latest&#39; locally
latest: Pulling from library/hello-world
2db29710123e: Pull complete
Digest: sha256:faa03e786c97f07ef34423fccceeec2398ec8a5759259f94d99078f264e9d7af
Status: Downloaded newer image for hello-world:latest

Hello from Docker!
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
 1. The Docker client contacted the Docker daemon.
 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.
    (amd64)
 3. The Docker daemon created a new container from that image which runs the
    executable that produces the output you are currently reading.
 4. The Docker daemon streamed that output to the Docker client, which sent it
    to your terminal.

To try something more ambitious, you can run an Ubuntu container with:
 $ docker run -it ubuntu bash

Share images, automate workflows, and more with a free Docker ID:
 https://hub.docker.com/

For more examples and ideas, visit:
 https://docs.docker.com/get-started/

PS C:\Users\you&gt;</code></pre>
<p><span class="emoji" data-emoji="tada">🎉</span> you just started and
ran a container on your computer!</p>
<p>When you go back to Docker Desktop, you’ll be able to see that in the
Containers tab is a container with the image
<code>hello-world:latest</code> that has “Exited”. This is the container
you just ran.</p>
<p>You can technically run it again by pressing the play button <span
class="emoji" data-emoji="arrow_forward">▶️</span> on the right side of
the window, but it’s not going to do anything because the
<code>hello-world</code> image prints to standard output, and there is
no standard output display in Docker Desktop.</p>
<p>You can (and probably should) delete this container by clicking on
the trash can <span class="emoji" data-emoji="wastebasket">🗑️</span>
icon on the far right side of the window.</p>
</div>
<p>Hello world is always our classic “let’s try this out for the first
time” exercise, and while interesting, isn’t really giving us a good
idea of the kinds of things we can do with containers — we were already
able to write our own self-contained “Hello world” programs in Java, C,
or Python (or whatever). Let’s step up to something a little bit more
complicated.</p>
<div class="example">
<p>Let’s follow the advice of Docker Desktop and “Run a Sample
Container”. Run the following in your terminal:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">-d</span> <span class="at">-p</span> 80:80 docker/getting-started</span></code></pre></div>
<p>Docker does some stuff to download an image and then… nothing?</p>
<p>Let’s step through what each of these options mean:</p>
<ul>
<li><strong><code>run</code></strong> is… well, it means download the
image and run a new container using that image as a basis. We saw that
happening, <code>docker</code> prints out a bunch of fancy animations
showing progress downloading images.</li>
<li><strong><code>-d</code></strong> is “<code>d</code>etach”. This
means that Docker is going to start the container, and then run it “in
the background” (the container will still be running, but you can
continue to use your terminal).</li>
<li><strong><code>-p</code></strong> is “<code>p</code>ort forwarding”.
This is getting pretty far outside the scope of our course, but one way
to interact with applications is through a “<a
href="https://en.wikipedia.org/wiki/Port_(computer_networking)">port</a>”.
Port 80 is the port for <a
href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol">HTTP</a>,
and HTTP is the “protocol” (sort of like the language) that your web
browser (Chrome, Firefox, Safari, Edge) use to talk to web servers. This
is a bit of a hint about how to start interacting with this
container.</li>
<li><strong><code>docker/getting-started</code></strong> is the name of
the image that we want this container to use when it launches.</li>
</ul>
<p>You can check in Docker Desktop and see that this container is indeed
running:</p>
<figure>
<img src="getting-started.png"
alt="The running getting started container." />
<figcaption aria-hidden="true">The running getting started
container.</figcaption>
</figure>
<p>Notice that you can click on the entry in the “Port(s)” column for
this container. Click on it!</p>
<p>Hey! Look at that! You’re running a web server in this container, and
your web browser is interacting with the web server in the container.
<span class="emoji" data-emoji="tada">🎉</span></p>
<p>This web server actually contains extensive documentation for using
Docker, so if you’re looking for some further reading about Docker, this
is one place you can find it.</p>
</div>
<p>Running a web server in a container is an example of a long-running
application. Let’s do something that’s a little bit different: we’re
going to run <code>pandoc</code> in a container.</p>
<p>… <code>pandoc</code>? That feels a little underwhelming.</p>
<p>OK, well, sure, it’s <em>familiar</em>, but we’re going to be doing
things in a container that has a bunch of stuff configured that you
can’t do with the base <code>pandoc</code> install, including being able
to produce PDFs on your Windows or macOS machine without installing
<span class="math inline">\LaTeX</span>.</p>
<div class="example">
<p>We’re going to use <a
href="https://github.com/dalibo/pandocker">pandocker</a>. Let’s write
ourselves a little Markdown file that takes advantage of some features
in <a href="https://github.com/dalibo/pandocker">pandocker</a> that we
can’t do with the base <code>pandoc</code> install:</p>
<pre><code>https://code.cs.umanitoba.ca/cs-lab-course/hello-pandocker</code></pre>
<p>You should use this file to:</p>
<ul>
<li><p>Create a PDF on Aviary with <code>pandoc</code></p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> myfile.md <span class="at">-o</span> myfile.pdf <span class="at">--toc</span></span></code></pre></div>
<p>Then transfer the PDF back to your own computer so you can see what
it looks like.</p></li>
<li><p>Create a PDF on your own machine with Pandocker using the
following command:</p>
<details>
<summary>
<p>macOS or Linux</p>
</summary>
<div class="sourceCode" id="cb6"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">--rm</span> <span class="at">-v</span> <span class="kw">`</span><span class="bu">pwd</span><span class="kw">`</span>:/pandoc dalibo/pandocker:stable <span class="dt">\</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="va">$YOUR_FILE</span>.md <span class="at">-o</span> <span class="va">$YOUR_FILE</span>.pdf <span class="at">--filter</span> pandoc-latex-admonition <span class="dt">\</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">--template</span> eisvogel <span class="at">--toc</span> <span class="at">--pdf-engine</span><span class="op">=</span>xelatex <span class="at">--listings</span></span></code></pre></div>
</details>
<details>
<summary>
<p>macOS with Apple Silicon</p>
</summary>
<div class="sourceCode" id="cb7"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">--platform</span><span class="op">=</span>linux/amd64 <span class="at">--rm</span> <span class="at">-v</span> <span class="kw">`</span><span class="bu">pwd</span><span class="kw">`</span>:/pandoc <span class="dt">\</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  dalibo/pandocker:stable <span class="va">$YOUR_FILE</span>.md <span class="at">-o</span> <span class="va">$YOUR_FILE</span>.pdf <span class="dt">\</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">--filter</span> pandoc-latex-admonition <span class="at">--template</span> eisvogel <span class="at">--toc</span> <span class="dt">\</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">--pdf-engine</span><span class="op">=</span>xelatex <span class="at">--listings</span></span></code></pre></div>
</details>
<details>
<summary>
<p>Windows with PowerShell</p>
</summary>
<div class="sourceCode" id="cb8"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">--rm</span> <span class="at">-v</span> <span class="va">${PWD}</span>:/pandoc dalibo/pandocker:stable lecture.md <span class="at">-o</span> <span class="kw">`</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">lecture.pdf</span> <span class="at">--filter</span> pandoc-latex-admonition <span class="at">--template</span> eisvogel <span class="at">--toc</span> <span class="kw">`</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">--pdf-engine=xelatex</span> <span class="at">--listings</span></span></code></pre></div>
</details></li>
</ul>
<p>These two outputs are pretty different! As it is, you
<strong>can’t</strong> generate the same output on Aviary as you could
with Docker and pandocker on your own machine — configuring Pandoc with
all of the required filters, templates, and supporting software is
tedious and painful.</p>
<p>There are a lot of options in this, but most of them are actually
options for <code>pandoc</code> and not Docker. Let’s step through the
Docker options:</p>
<ul>
<li><strong><code>--rm</code></strong>: This option tells docker to
remove the container after it exits. This is a short-running container,
so removing it once it’s exited makes sense.</li>
<li><strong><code>-v (pwd):/pandoc</code></strong>: This is how we share
files with a container. The <code>-v</code> option is to “bind mount a
volume”. The short of this is that inside the container is another
directory structure, and <code>pwd</code> (your present working
directory) is shared inside the container at <code>/pandoc</code>.</li>
</ul>
<p>That’s it for Docker options! The rest are options to
<code>pandoc</code> that you can read about in the documentation for
<code>pandoc</code>.</p>
<p><span class="emoji" data-emoji="tada">🎉</span> You just ran
<code>pandoc</code> in a container!</p>
</div>
<h2 id="further-reading">Further reading</h2>
<p>You’ve seen two examples of how to use containers, but you might want
to know more about how to create your own containers.</p>
<ul>
<li>Read more about creating containers in <a
href="https://docs.docker.com/get-started/">Docker’s Get Started</a>,
either on Docker’s web site or in the getting started container you
launched earlier. This will take you further into containers and get you
creating your own containers.</li>
<li>Docker isn’t the only tool for managing containers, <a
href="https://podman.io/">Podman</a> is an alternative tool for managing
containers.</li>
<li>If you’re looking for a deep dive alternative, <a
href="https://freebsdfoundation.org/freebsd-project/resources/introduction-to-freebsd-jails/">FreeBSD
Jails</a> predate the idea of containers.</li>
</ul>

</div> <!-- article-content -->

<div id="footer-nav-bar">
<div><a href="topic-3.html">←prev</a></div><div class="nav-bar-push"><a href="topic-5.html">next→</a></div>
</div>

</div> <!-- article-box -->

</div> <!-- trunk-box -->

<div id="my-footer">
&copy; Franklin Bristow 2022 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a><br/>
<a href="topic-4.md">Pandoc-Markdown source for this page</a><br/>
(Docs processed by
<a href="http://www.unexpected-vortices.com/sw/rippledoc/index.html">Rippledoc</a>.)
</div> <!-- my-footer -->

</div> <!-- main-outer-box -->

</body>
</html>
