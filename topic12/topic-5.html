<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Franklin Bristow" />
  <title>Configure and run a web server</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../styles.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>

<div id="main-outer-box">

<div id="my-header">
  <a href="../index.html">Introduction to Tools and Techniques in Computer Science</a>
</div>

<div id="trunk-box">

<div id="nav-box">
<p>Contents:</p>
</details>
<details>
<summary>
Setup, writing structured text, and file management
</summary>
<ul>
<li><a href=".././topic01/topic-1.html">Introduction</a></li>
<li><a href=".././topic01/topic-2.html">Installing software on your
personal computer</a></li>
<li><a href=".././topic01/topic-3.html">Write plain text
documents</a></li>
<li><a href=".././topic01/topic-4.html">Converting documents to
different formats</a></li>
<li><a href=".././topic01/topic-5.html">Organizing your files</a></li>
<li><a href=".././topic01/topic-6.html">Summary</a></li>
</ul>
</details>
<details>
<summary>
Remote connections and command-line file management
</summary>
<ul>
<li><a href=".././topic02/topic-0.html">Introduction</a></li>
<li><a href=".././topic02/topic-1.html">Connecting to a remote
computer</a></li>
<li><a href=".././topic02/topic-2.html">Command line file
management</a></li>
<li><a href=".././topic02/topic-3.html">Command line text
editing</a></li>
<li><a href=".././topic02/topic-4.html">Tab completion</a></li>
<li><a href=".././topic02/topic-5.html">Transferring files</a></li>
<li><a href=".././topic02/topic-6.html">handin</a></li>
<li><a href=".././topic02/topic-7.html">Summary</a></li>
</ul>
</details>
<details>
<summary>
Compiling and running code, version control
</summary>
<ul>
<li><a href=".././topic03/topic-1.html">Introduction</a></li>
<li><a href=".././topic03/topic-2.html">Compiling and running
code</a></li>
<li><a href=".././topic03/topic-3.html">Version Control</a></li>
<li><a href=".././topic03/topic-4.html">Summary</a></li>
</ul>
</details>
<details>
<summary>
Advanced version control, project management
</summary>
<ul>
<li><a href=".././topic04/topic-1.html">Introduction</a></li>
<li><a href=".././topic04/topic-2.html">Advanced version
control</a></li>
<li><a href=".././topic04/topic-3.html">Managing personal
projects</a></li>
<li><a href=".././topic04/topic-4.html">Summary</a></li>
</ul>
</details>
<details>
<summary>
Advanced shell usage
</summary>
<ul>
<li><a href=".././topic05/topic-1.html">Introduction</a></li>
<li><a href=".././topic05/topic-2.html">Finding files</a></li>
<li><a href=".././topic05/topic-3.html">Filtering lines</a></li>
<li><a href=".././topic05/topic-4.html">Reading and changing
permissions</a></li>
<li><a href=".././topic05/topic-5.html">Comparing plain text
files</a></li>
<li><a href=".././topic05/topic-6.html">Summary</a></li>
</ul>
</details>
<details>
<summary>
Digital notebooks and getting help
</summary>
<ul>
<li><a href=".././topic06/topic-1.html">Introduction</a></li>
<li><a href=".././topic06/topic-2.html">Getting help</a></li>
<li><a href=".././topic06/topic-3.html">Getting help ‚Äî Examples</a></li>
<li><a href=".././topic06/topic-4.html">Academic misconduct</a></li>
<li><a href=".././topic06/topic-5.html">Digital notebooks</a></li>
<li><a href=".././topic06/topic-6.html">Summary</a></li>
</ul>
</details>
<details>
<summary>
Debugging (strategies and usage)
</summary>
<ul>
<li><a href=".././topic07/topic-1.html">Introduction</a></li>
<li><a href=".././topic07/topic-2.html">What even is debugging?</a></li>
<li><a href=".././topic07/topic-3.html">Debugging strategies</a></li>
<li><a href=".././topic07/topic-4.html">Debuggers</a></li>
<li><a href=".././topic07/topic-5.html">Visual Debuggers</a></li>
<li><a href=".././topic07/topic-6.html">Command-line Debuggers</a></li>
<li><a href=".././topic07/topic-7.html">Summary</a></li>
<li><a href=".././topic07/topic-8.html">Practice Questions</a></li>
</ul>
</details>
<details>
<summary>
Command-line environment
</summary>
<ul>
<li><a href=".././topic08/topic-1.html">Introduction</a></li>
<li><a href=".././topic08/topic-2.html">Input and output on the command
line</a></li>
<li><a href=".././topic08/topic-3.html">Redirecting input and
output</a></li>
<li><a href=".././topic08/topic-4.html">Piping</a></li>
<li><a href=".././topic08/topic-5.html">Choose a backup
strategy</a></li>
<li><a href=".././topic08/topic-6.html">Install and configure back up
software</a></li>
<li><a href=".././topic08/topic-7.html">Summary</a></li>
<li><a href=".././topic08/topic-8.html">Practice Questions</a></li>
</ul>
</details>
<details>
<summary>
Shell scripting
</summary>
<ul>
<li><a href=".././topic09/topic-1.html">Introduction</a></li>
<li><a href=".././topic09/topic-2.html">Shell scripts</a></li>
<li><a href=".././topic09/topic-3.html">Arguments</a></li>
<li><a href=".././topic09/topic-4.html">Structures: conditional
statements and loops</a></li>
<li><a href=".././topic09/topic-5.html">Globs</a></li>
<li><a href=".././topic09/topic-6.html">Debugging shell scripts</a></li>
<li><a href=".././topic09/topic-7.html">Summary</a></li>
<li><a href=".././topic09/topic-8.html">Practice Questions</a></li>
</ul>
</details>
<details>
<summary>
Build systems and dependency management
</summary>
<ul>
<li><a href=".././topic10/topic-1.html">Introduction</a></li>
<li><a href=".././topic10/topic-2.html">Programs requiring
dependencies</a></li>
<li><a href=".././topic10/topic-3.html">Create a Makefile</a></li>
<li><a href=".././topic10/topic-4.html">Build and dependency
management</a></li>
<li><a href=".././topic10/topic-5.html">Summary</a></li>
</ul>
</details>
<details>
<summary>
Containers, virtual machines, and ‚ÄúThe Cloud ‚Ñ¢‚Äù
</summary>
<ul>
<li><a href=".././topic11/topic-1.html">Introduction</a></li>
<li><a href=".././topic11/topic-2.html">Install and configure a virtual
machine</a></li>
<li><a href=".././topic11/topic-3.html">Download and use a pre-installed
OS in VM software</a></li>
<li><a href=".././topic11/topic-4.html">Run a command within a
container</a></li>
<li><a href=".././topic11/topic-5.html">Initialize a server in a public
cloud</a></li>
<li><a href=".././topic11/topic-6.html">Summary</a></li>
<li><a href=".././topic11/hello-pandocker.html">Hello,
Pandocker!</a></li>
</ul>
</details>
<details open>
<summary>
Running your own Linux system
</summary>
<ul>
<li><a href="topic-1.html">Introduction</a></li>
<li><a href="topic-2.html">Choose a Linux distribution</a></li>
<li><a href="topic-3.html">Install a Linux distribution</a></li>
<li><a href="topic-4.html">Install packages</a></li>
<li><strong>Configure and run a web server</strong></li>
<li><a href="topic-6.html">Summary</a></li>
<li><a href=".././README.html">About this book</a></li>
</ul>

</div>

<div id="article-box">

<div id="header-nav-bar">
<div><a href="topic-4.html">‚Üêprev</a></div><div class="nav-bar-push"><a href="topic-6.html">next‚Üí</a></div>
</div>

<div id="article-content">
<header id="title-block-header">
<h1 class="title">Configure and run a web server</h1>
<p class="author">Franklin Bristow</p>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#configure-and-run-a-web-server"
id="toc-configure-and-run-a-web-server">Configure and run a web
server</a>
<ul>
<li><a href="#installing-caddy" id="toc-installing-caddy">Installing
Caddy</a></li>
<li><a href="#configuring-caddy" id="toc-configuring-caddy">Configuring
Caddy</a></li>
<li><a href="#further-reading" id="toc-further-reading">Further
reading</a></li>
</ul></li>
</ul>
</nav>
<h1 id="configure-and-run-a-web-server">Configure and run a web
server</h1>
<div class="outcomes">
<ul class="task-list">
<li><label><input type="checkbox" checked="" />Configure and run a web
server.</label></li>
</ul>
</div>
<p>One very popular use for Linux is to run web servers. A web server is
a program that runs on a computer, waiting for requests to come from
(for example) web browsers, and sending back a response so your web
browser can (for example) show you videos of cats.</p>
<p>The first part of this is installing a web server. There are three
popular web servers:</p>
<ol type="1">
<li><a href="https://httpd.apache.org/">Apache HTTPD</a></li>
<li><a href="https://nginx.com/">NGINX</a> (pronounced like
‚Äúengine-X‚Äù)</li>
<li><a href="https://caddyserver.com/">Caddy</a></li>
</ol>
<h2 id="installing-caddy">Installing Caddy</h2>
<p>Caddy can be installed using <code>apt</code>, but you need to do a
little bit of extra set up ‚Äî Caddy‚Äôs packages are <em>not</em> in the
Ubuntu repositories. Instead, Caddy hosts its own repositories, and you
can add that repository to the set of repositories <code>apt</code> can
download from on your system.</p>
<p>The <a
href="https://caddyserver.com/docs/install#debian-ubuntu-raspbian">Caddy
documentation</a> describes what commands you should run, you can run
these commands in your terminal in your Linux system. One addition to
the Caddy documentation is that you may need to install
<code>curl</code> before following their guide:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt install curl</span></code></pre></div>
<p>After you‚Äôve followed the steps in the documentation, Caddy should be
running! Open the web browser in your Linux system and browse to <a
href="http://localhost" class="uri">http://localhost</a>.</p>
<h2 id="configuring-caddy">Configuring Caddy</h2>
<p>Now that Caddy‚Äôs installed, let‚Äôs get it set up so that the server is
serving what we want instead of the default.</p>
<div class="aside">
<p>Almost everything in this section is very specific to Caddy and isn‚Äôt
really transferable anywhere else. Configuration files, locations, and
what web servers can do depends entirely on the web server, so what we
do here will not in any way apply to NGINX or Apache HTTPD.</p>
</div>
<p>Serve a static string:</p>
<ul>
<li><p>Edit the file <code>/etc/caddy/Caddyfile</code> as root:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> vim /etc/caddy/Caddyfile</span></code></pre></div></li>
<li><p>Comment out everything inside the block
<code>:80 {}</code></p></li>
<li><p>Add <code>respond "Hello, world!"</code> inside the
block.</p></li>
<li><p>Restart Caddy so that it starts up with the changes you made.</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> systemctl restart caddy</span></code></pre></div></li>
<li><p>Open the web browser in your Linux system and navigate to <a
href="http://localhost" class="uri">http://localhost</a></p></li>
<li><p><span class="emoji" data-emoji="wave">üëã</span></p></li>
</ul>
<p>Serve a static file:</p>
<ul>
<li><p>Edit the file <code>/etc/caddy/Caddyfile</code> as root.</p></li>
<li><p>Uncomment the lines you commented out.</p></li>
<li><p>Comment out the <code>respond</code> line you added.</p></li>
<li><p>Restart caddy.</p></li>
<li><p>Replace <code>/usr/share/caddy/index.html</code> with your own
<code>index.html</code> (maybe by converting a Markdown file to HTML,
you did this in week 6). Your user account does not have permissions to
write to this directory, so you can <code>mv</code> or <code>cp</code>
the file with <code>sudo</code>:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> mv index.html /usr/share/caddy/</span></code></pre></div></li>
<li><p>Refresh your web browser.</p></li>
<li><p><span class="emoji" data-emoji="tada">üéâ</span></p></li>
</ul>
<h2 id="further-reading">Further reading</h2>
<p>Installing a web server inside your Linux install is great, but its
use for now is limited to the web browser inside your Linux install.</p>
<p>Your next steps are to install Caddy on (for example) a virtual
machine that you‚Äôve created on Azure, buy yourself a domain name, and
have your own personal web page running on Linux by following <a
href="https://caddyserver.com/docs/">some more documentation on the
Caddy website</a>.</p>
<p>If you‚Äôre running your Linux install in a VM, you can configure ‚Äúport
forwarding‚Äù so that you can connect to your web server from the web
browser installed on your host system, or SSH to your virtual
machine.</p>

</div> <!-- article-content -->

<div id="footer-nav-bar">
<div><a href="topic-4.html">‚Üêprev</a></div><div class="nav-bar-push"><a href="topic-6.html">next‚Üí</a></div>
</div>

</div> <!-- article-box -->

</div> <!-- trunk-box -->

<div id="my-footer">
&copy; Franklin Bristow 2022 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a><br/>
<a href="topic-5.md">Pandoc-Markdown source for this page</a><br/>
(Docs processed by
<a href="http://www.unexpected-vortices.com/sw/rippledoc/index.html">Rippledoc</a>.)
</div> <!-- my-footer -->

</div> <!-- main-outer-box -->

</body>
</html>
