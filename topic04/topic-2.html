<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Franklin Bristow" />
  <title>Advanced version control</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../styles.css" />
</head>
<body>

<div id="main-outer-box">

<div id="my-header">
  <a href="../index.html">Introduction to Tools and Techniques in Computer Science</a>
</div>

<div id="trunk-box">

<div id="nav-box">
<p>Contents:</p>
</details>
<details>
<summary>
Setup, writing structured text, and file management
</summary>
<ul>
<li><a href=".././topic01/topic-1.html">Introduction</a></li>
<li><a href=".././topic01/topic-2.html">Installing software on your
personal computer</a></li>
<li><a href=".././topic01/topic-3.html">Write plain text
documents</a></li>
<li><a href=".././topic01/topic-4.html">Converting documents to
different formats</a></li>
<li><a href=".././topic01/topic-5.html">Organizing your files</a></li>
<li><a href=".././topic01/topic-6.html">Summary</a></li>
</ul>
</details>
<details>
<summary>
Remote connections and command-line file management
</summary>
<ul>
<li><a href=".././topic02/topic-0.html">Introduction</a></li>
<li><a href=".././topic02/topic-1.html">Connecting to a remote
computer</a></li>
<li><a href=".././topic02/topic-2.html">Command line file
management</a></li>
<li><a href=".././topic02/topic-3.html">Command line text
editing</a></li>
<li><a href=".././topic02/topic-4.html">Tab completion</a></li>
<li><a href=".././topic02/topic-5.html">Transferring files</a></li>
<li><a href=".././topic02/topic-6.html">handin</a></li>
<li><a href=".././topic02/topic-7.html">Summary</a></li>
</ul>
</details>
<details>
<summary>
Compiling and running code, version control
</summary>
<ul>
<li><a href=".././topic03/topic-1.html">Introduction</a></li>
<li><a href=".././topic03/topic-2.html">Compiling and running
code</a></li>
<li><a href=".././topic03/topic-3.html">Version Control</a></li>
<li><a href=".././topic03/topic-4.html">Summary</a></li>
</ul>
</details>
<details open>
<summary>
Advanced version control, project management
</summary>
<ul>
<li><a href="topic-1.html">Introduction</a></li>
<li><strong>Advanced version control</strong></li>
<li><a href="topic-3.html">Managing personal projects</a></li>
<li><a href="topic-4.html">Summary</a></li>
</ul>
</details>
<details>
<summary>
Advanced shell usage
</summary>
<ul>
<li><a href=".././topic05/topic-1.html">Introduction</a></li>
<li><a href=".././topic05/topic-2.html">Finding files</a></li>
<li><a href=".././topic05/topic-3.html">Filtering lines</a></li>
<li><a href=".././topic05/topic-4.html">Reading and changing
permissions</a></li>
<li><a href=".././topic05/topic-5.html">Comparing plain text
files</a></li>
<li><a href=".././topic05/topic-6.html">Summary</a></li>
</ul>
</details>
<details>
<summary>
Digital notebooks and getting help
</summary>
<ul>
<li><a href=".././topic06/topic-1.html">Introduction</a></li>
<li><a href=".././topic06/topic-2.html">Getting help</a></li>
<li><a href=".././topic06/topic-3.html">Getting help — Examples</a></li>
<li><a href=".././topic06/topic-4.html">Academic misconduct</a></li>
<li><a href=".././topic06/topic-5.html">Digital notebooks</a></li>
<li><a href=".././topic06/topic-6.html">Summary</a></li>
</ul>
</details>
<details>
<summary>
Debugging (strategies and usage)
</summary>
<ul>
<li><a href=".././topic07/topic-1.html">Introduction</a></li>
<li><a href=".././topic07/topic-2.html">What even is debugging?</a></li>
<li><a href=".././topic07/topic-3.html">Debugging strategies</a></li>
<li><a href=".././topic07/topic-4.html">Debuggers</a></li>
<li><a href=".././topic07/topic-5.html">Visual Debuggers</a></li>
<li><a href=".././topic07/topic-6.html">Command-line Debuggers</a></li>
<li><a href=".././topic07/topic-7.html">Summary</a></li>
<li><a href=".././topic07/topic-8.html">Practice Questions</a></li>
</ul>
</details>
<details>
<summary>
Command-line environment
</summary>
<ul>
<li><a href=".././topic08/topic-1.html">Introduction</a></li>
<li><a href=".././topic08/topic-2.html">Input and output on the command
line</a></li>
<li><a href=".././topic08/topic-3.html">Redirecting input and
output</a></li>
<li><a href=".././topic08/topic-4.html">Piping</a></li>
<li><a href=".././topic08/topic-5.html">Choose a backup
strategy</a></li>
<li><a href=".././topic08/topic-6.html">Install and configure back up
software</a></li>
<li><a href=".././topic08/topic-7.html">Summary</a></li>
<li><a href=".././topic08/topic-8.html">Practice Questions</a></li>
</ul>
</details>
<details>
<summary>
Shell scripting
</summary>
<ul>
<li><a href=".././topic09/topic-1.html">Introduction</a></li>
<li><a href=".././topic09/topic-2.html">Shell scripts</a></li>
<li><a href=".././topic09/topic-3.html">Arguments</a></li>
<li><a href=".././topic09/topic-4.html">Structures: conditional
statements and loops</a></li>
<li><a href=".././topic09/topic-5.html">Globs</a></li>
<li><a href=".././topic09/topic-6.html">Debugging shell scripts</a></li>
<li><a href=".././topic09/topic-7.html">Summary</a></li>
<li><a href=".././topic09/topic-8.html">Practice Questions</a></li>
</ul>
</details>
<details>
<summary>
Build systems and dependency management
</summary>
<ul>
<li><a href=".././topic10/topic-1.html">Introduction</a></li>
<li><a href=".././topic10/topic-2.html">Programs requiring
dependencies</a></li>
<li><a href=".././topic10/topic-3.html">Create a Makefile</a></li>
<li><a href=".././topic10/topic-4.html">Build and dependency
management</a></li>
<li><a href=".././topic10/topic-5.html">Summary</a></li>
</ul>
</details>
<details>
<summary>
Containers, virtual machines, and “The Cloud ™”
</summary>
<ul>
<li><a href=".././topic11/topic-1.html">Introduction</a></li>
<li><a href=".././topic11/topic-2.html">Install and configure a virtual
machine</a></li>
<li><a href=".././topic11/topic-3.html">Download and use a pre-installed
OS in VM software (VirtualBox)</a></li>
<li><a href=".././topic11/topic-4.html">Download and use a pre-installed
OS in VM software (UTM)</a></li>
<li><a href=".././topic11/topic-5.html">Run a command within a
container</a></li>
<li><a href=".././topic11/topic-6.html">Initialize a server in a public
cloud</a></li>
<li><a href=".././topic11/hello-pandocker.html">Hello,
Pandocker!</a></li>
<li><a href=".././topic11/topic-7.html">Summary</a></li>
</ul>
</details>
<details>
<summary>
Running your own Linux system
</summary>
<ul>
<li><a href=".././topic12/topic-1.html">Introduction</a></li>
<li><a href=".././topic12/topic-2.html">Choose a Linux
distribution</a></li>
<li><a href=".././topic12/topic-3.html">Install a Linux
distribution</a></li>
<li><a href=".././topic12/topic-4.html">Install packages</a></li>
<li><a href=".././topic12/topic-5.html">Configure and run a web
server</a></li>
<li><a href=".././topic12/topic-6.html">Summary</a></li>
<li><a href=".././README.html">About this book</a></li>
</ul>

</div>

<div id="article-box">

<div id="header-nav-bar">
<div><a href="topic-1.html">←prev</a></div><div class="nav-bar-push"><a href="topic-3.html">next→</a></div>
</div>

<div id="article-content">
<header id="title-block-header">
<h1 class="title">Advanced version control</h1>
<p class="author">Franklin Bristow</p>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#cloning-an-existing-repository"
id="toc-cloning-an-existing-repository">Cloning an existing
repository</a>
<ul>
<li><a href="#finding-a-repositorys-address"
id="toc-finding-a-repositorys-address">Finding a repository’s
address</a></li>
</ul></li>
<li><a href="#branches" id="toc-branches">Branches</a>
<ul>
<li><a href="#creating-a-new-branch"
id="toc-creating-a-new-branch">Creating a new branch</a></li>
<li><a href="#listing-and-switching-branches"
id="toc-listing-and-switching-branches">Listing and switching
branches</a></li>
<li><a href="#pushing-branches-to-remote"
id="toc-pushing-branches-to-remote">Pushing branches to remote</a></li>
<li><a href="#merging-branches" id="toc-merging-branches">Merging
branches</a></li>
</ul></li>
<li><a href="#synchronizing-projects-between-computers"
id="toc-synchronizing-projects-between-computers">Synchronizing projects
between computers</a>
<ul>
<li><a href="#install-git" id="toc-install-git">Install Git</a></li>
<li><a href="#workflow" id="toc-workflow">Workflow</a></li>
</ul></li>
<li><a href="#further-reading" id="toc-further-reading">Further
reading</a></li>
</ul>
</nav>
<div class="outcomes">
<ul class="task-list">
<li><label><input type="checkbox" checked="" />Use branching and merging
with a version control repository.</label></li>
<li><label><input type="checkbox" checked="" />Synchronize repositories
between computers for a personal project (e.g., <code>git push</code>
and <code>git pull</code>).</label></li>
</ul>
</div>
<h1 id="cloning-an-existing-repository">Cloning an existing
repository</h1>
<p>We’re not the first people to initialize repositories and use version
control. In fact, vast online repositories of different projects exist
on sites like <a href="https://github.com/">GitHub</a>, <a
href="https://about.gitlab.com/">GitLab</a>, <a
href="https://sr.ht/">SourceHut</a>, and more.</p>
<p>Cloning an existing repository from a website is straightforward
using the <code>git clone</code> subcommand, just like it was when you
cloned your own repository. The difference now is that we’re going to
start cloning repositories from out in the wild <span class="emoji"
data-emoji="national_park">🏞️</span>.</p>
<div class="example">
<p>Let’s clone a specific repository. The specific repository contains
the source code that you previously downloaded on the command-line (the
hello project).</p>
<p>Start by <a
href="../topic01/topic-2.html#verifying-that-pandoc-is-installed">opening
your terminal</a> and <a href="../topic02/topic-1.html">connecting to
Aviary</a>, then run:</p>
<div class="input">
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://code.cs.umanitoba.ca/cs-lab-course/hello</span></code></pre></div>
</div>
<p><code>git</code> is going to start connecting to a remote web server
that’s hosting some source code in a <code>git</code> repository, and
you should see output that looks similar to the following (just like you
saw when you cloned your own repository):</p>
<div class="output">
<pre><code>Cloning into &#39;hello&#39;...
remote: Enumerating objects: 8, done.
remote: Counting objects: 100% (8/8), done.
remote: Compressing objects: 100% (4/4), done.
remote: Total 8 (delta 0), reused 0 (delta 0), pack-reused 0
Receiving objects: 100% (8/8), done.</code></pre>
</div>
<p>There’s a lot of output here that (honestly) isn’t that important in
terms of being able to use <code>git</code> for tracking changes to your
files.</p>
<p>Just like when you created and cloned your own <code>git</code>
repository, the folder <code>hello</code> now contains another
repository. This repository contains the code that you downloaded as a
<code>zip</code> file!</p>
</div>
<h2 id="finding-a-repositorys-address">Finding a repository’s
address</h2>
<p>Similar to connecting to a remote computer, we have to tell
<code>git</code> where to find the repository by giving it an address or
location. In the example above, I provided you with the complete command
to clone the repository, but sometimes you’ll find a repository that
you’re interested in cloning (including your own!).</p>
<div class="example">
<p><a href="https://standardebooks.org/">Standard Ebooks</a> is a web
site that’s curated and published many free, high quality public domain
e-books.</p>
<p>The team at Standard Ebooks use GitHub extensively to collaborate and
track changes to the files that are used in the creation of their
e-books. You can find a collection of their repositories on GitHub here:
<a href="https://github.com/standardebooks"
class="uri">https://github.com/standardebooks</a></p>
<p>Scroll down a little bit to the “Repositories” section and pick an
e-book. The titles (unfortunately) are pretty messy here, but they are
readable (if you can’t pick an e-book, I’ll pick one for you: <a
href="https://github.com/standardebooks/daniel-defoe_the-life-and-adventures-of-robinson-crusoe">The
Life and Adventures of Robinson Crusoe</a>).</p>
<p>Once you click on a link to an e-book, you’ll be taken to the main
page on GitHub for that repository. The main table in the center of the
page is a listing of the files and folders that are in that repository.
Just above and to the right of that table is a green button labelled
“Code”:</p>
<figure>
<img src="github-code.png" alt="The green “Code” button in question." />
<figcaption aria-hidden="true">The green “Code” button in
question.</figcaption>
</figure>
<p>Click the green “Code” button, then you can copy the text under
“HTTPS”, this is the address of the repository that you’re going to use
to tell <code>git</code> where it should look when it’s cloning the
repository.</p>
<figure>
<img src="github-https-url.png"
alt="The location of the repository that you can copy." />
<figcaption aria-hidden="true">The location of the repository that you
can copy.</figcaption>
</figure>
<p>Now you can paste this link into your terminal as part of a
<code>git clone</code> command:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone git@github.com:standardebooks/daniel-defoe_the-life-and-adventures-of-robinson-crusoe.git</span></code></pre></div>
<p>Now you’ve cloned a repository made by someone else! <span
class="emoji" data-emoji="tada">🎉</span></p>
</div>
<h1 id="branches">Branches</h1>
<p>So far we’ve been using the basic features of Git to track changes to
files that we have in a repository. We can visualize these changes as a
linear list:</p>
<figure>
<img src="linear-commits.jpg" alt="A linear sequence of commits." />
<figcaption aria-hidden="true">A linear sequence of
commits.</figcaption>
</figure>
<p>We can literally see this if we use the <code>git log</code>
subcommand, and we can also get back to previous commits using the
<code>git checkout</code> subcommand.</p>
<div class="example">
<p>Take a look at the commit history from one of your own
repositories:</p>
<div class="input">
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> log</span></code></pre></div>
</div>
<div class="output">
<pre><code>commit 3d7739db044efa992bbfdb2d613a0fc025f39d71 (HEAD -&gt; main, origin/main)
Author: Franklin Bristow &lt;fbristow@cs.umanitoba.ca&gt;
Date:   Mon Sep 26 14:07:53 2022 -0500

    Updating TODO.

commit 943ae855084a66fbdee8b7469f81be284e04cf65
Author: Franklin Bristow &lt;fbristow@cs.umanitoba.ca&gt;
Date:   Mon Sep 26 13:58:54 2022 -0500

   Writing more about version control.
    
   Looking back at log messages is cool, so let&#39;s use `git log` to see them. </code></pre>
</div>
<p>Those long numbers that you see after the word “commit” are unique
identifiers for that commit. You can get back to the state that your
project was in at that state by using the <code>git checkout</code>
command:</p>
<div class="input">
<div class="sourceCode" id="cb6"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> checkout 3d7739</span></code></pre></div>
</div>
<p>You can either copy and paste the complete commit ID, or you can use
the first 7 or 8 characters.</p>
<p>When you run that command (with the appropriate commit ID!),
<code>git</code> will print out some information about what you can do,
including how to get back to the <code>main</code> branch.</p>
<p>You can quickly get back to the “head” (the last commit that you
made) using the <code>git switch</code> command:</p>
<div class="input">
<div class="sourceCode" id="cb7"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> switch main</span></code></pre></div>
</div>
</div>
<p>This is good enough for the most part, but there’s more to Git than
just keeping track of a linear sequence of changes over time. One of the
most powerful concepts behind Git is that it can actually keep track of
an entire <a
href="https://en.wikipedia.org/wiki/Graph_(discrete_mathematics)"><em>graph</em></a>
of changes over time, possibly coming from many authors and
contributors.</p>
<p>We’re going to take a look at a feature in Git called “branches”.
Branches are something that we can use to track multiple independent
sequences of commits to a repository simultaneously. When a repository
has multiple branches, its commit history can look something like
this:</p>
<figure>
<img src="commits-with-branches.png" alt="Branches in a repository." />
<figcaption aria-hidden="true">Branches in a repository.</figcaption>
</figure>
<p>Branches are very useful when you’re working in a team of people, who
are each independently working on (for example) a feature in a bigger
project. All of these people will want to independently make changes and
commits, but not interfere with each other’s work until they’re
finished.</p>
<div class="aside">
<p>You will almost certainly not use branches on projects that you’re
working on by yourself. You <em>might</em>, and you’re more than welcome
to use them, but don’t worry too much about forcing this into your
version control workflow.</p>
<p>Because of that, we’re going to be looking mostly at the mechanical
“How do I make a branch, and how do I merge a branch back into the
<code>main</code> branch?” instead of the philosophy of best practices
with branches.</p>
</div>
<h2 id="creating-a-new-branch">Creating a new branch</h2>
<p>You can create a new branch in your <code>git</code> repository using
the <code>git branch</code> subcommand.</p>
<div class="example">
<p>From anywhere inside your <code>git</code> repository, you can run
<code>git branch</code> to create a new branch in your repository:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> branch my-new-branch</span></code></pre></div>
<p>Typically when you make a new branch, the name of the branch should
represent something about what you’re intending to work on in that
branch (e.g., “new-feature”).</p>
</div>
<h2 id="listing-and-switching-branches">Listing and switching
branches</h2>
<p>We just created a branch (<span class="emoji"
data-emoji="tada">🎉</span>), but… that’s not very useful in and of
itself. We want to be able to see which branches are currently in a
repository, and we want to be able to <em>switch</em> to that branch so
that we can track changes. We’re going to use the
<code>git branch</code> and <code>git switch</code> commands.</p>
<div class="example">
<p>We can ask <code>git</code> to tell us which branches are in a
repository by using the <code>git branch</code> subcommand without
specifying a branch name:</p>
<div class="columns">
<div class="column input" style="width:50%;">
<div class="sourceCode" id="cb9"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> branch</span></code></pre></div>
</div><div class="column output" style="width:50%;">
<pre><code>* main
  my-new-branch</code></pre>
</div>
</div>
<p>We can ask <code>git</code> to switch us to that branch using the
<code>git switch</code> subcommand:</p>
<div class="columns">
<div class="column input" style="width:50%;">
<div class="sourceCode" id="cb11"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> switch my-new-branch</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> branch</span></code></pre></div>
</div><div class="column output" style="width:50%;">
<pre><code>  main
* my-new-branch</code></pre>
</div>
</div>
</div>
<p>Once we’re on this new branch, we can use <code>git</code> the same
way that we were before, <code>add</code>ing and <code>commit</code>ing
changes, then switch back to our <code>main</code> branch using
<code>git switch</code>.</p>
<p>Try creating several branches, make changes, stage (add), then commit
those changes, then switch between branches to get an sense of how
commits apply to branches.</p>
<h2 id="pushing-branches-to-remote">Pushing branches to remote</h2>
<p>You can also push branches that you have in your local repository to
the remote repository. You actually already did this the first time you
pushed to a remote repository with your <code>main</code> branch when
you did <code>git push -u origin main</code>. You can also push local
branches to remote with <code>git push</code>:</p>
<div class="example">
<p>To push the new <code>my-new-branch</code> to the remote repository,
we would use the <code>push</code> subcommand with the
<code>-u origin</code> option:</p>
<div class="input">
<div class="sourceCode" id="cb13"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> push <span class="at">-u</span> origin my-new-branch</span></code></pre></div>
</div>
</div>
<h2 id="merging-branches">Merging branches</h2>
<p>OK great! Now we have one repository that has several different
commit histories. If you want to think in terms of data structures (and
maybe you don’t want to think in terms of data structures), we’ve
effectively built a tree <span class="emoji"
data-emoji="evergreen_tree">🌲</span> of commit histories.</p>
<p>Having these multiple, independent commit histories is fine, but if
we’re working on a project with multiple people, and those multiple
people each have their own branch, we need to be able to take all the
work that they’ve independently done and put it back into the
<code>main</code> branch so that we have a single project that has
<em>all</em> the commits and features.</p>
<p>To do this, we’re going to have to “merge” the branches back
together; take all the commits from one branch, and put them into
another branch. We’re going to use the <code>git merge</code> subcommand
to do this.</p>
<div class="example">
<p>Start by listing the branches that you have in your repository with
<code>git branch</code>:</p>
<div class="columns">
<div class="column input" style="width:50%;">
<div class="sourceCode" id="cb14"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> branch</span></code></pre></div>
</div><div class="column output" style="width:50%;">
<pre><code>  main
  my-new-branch
* another-branch</code></pre>
</div>
</div>
<p>You can merge multiple branches together by switching to the “target”
branch (usually <code>main</code>), then running <code>git merge</code>
with the name of the branch that you want to bring into that branch.</p>
<div class="input">
<div class="sourceCode" id="cb16"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> switch main <span class="co"># switch back to the main branch</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> merge my-new-branch</span></code></pre></div>
</div>
<p>If everything goes smoothly, <code>git</code> will tell you about
what it’s done to your file by telling you how many files were changes,
how many “insertions” it made (additions to your files) and how many
“deletions” it made (lines or changes that removed content):</p>
<div class="output">
<pre><code>Updating 8e7c6d6..ca7accf
Fast-forward
 updated-file | 3 +--
 1 file changed, 1 insertion(+), 2 deletion(-)</code></pre>
</div>
</div>
<h4 id="merge-conflicts">Merge conflicts</h4>
<p><a href="https://www.youtube.com/watch?v=yJxCdh1Ps48">Things may not
go smoothly</a>. When two people are working independently on two
different, independent histories within a single repository, they may
need to make changes to the same file. <code>git</code> does a pretty
good job of automatically “merging” multiple changes to the same file,
but sometimes it can’t and you’ll get a “merge conflict”.</p>
<div class="example">
<p>Let’s start again with a different branch, switch to
<code>main</code>, then <code>merge</code> changes again:</p>
<div class="input">
<div class="sourceCode" id="cb18"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> switch main <span class="co"># switch back to the main branch</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> merge my-other-new-branch</span></code></pre></div>
</div>
<p>When things don’t go the way you expected, <code>git</code> is going
to report that it couldn’t automatically merge your changes:</p>
<div class="output">
<pre><code>Auto-merging updated-file
CONFLICT (content): Merge conflict in updated-file
Automatic merge failed; fix conflicts and then commit the result.</code></pre>
</div>
<p>Git tried it’s best (it really did!), but it couldn’t figure out how
it should merge the changes from the different histories. When Git can’t
merge changes, it’s in a state where you either must abandon the merge,
or help Git figure out the correct way to merge things. If you just want
to bail out (give up on merging and get back to a good state in
<code>main</code>), you can use the <code>--abort</code> option:</p>
<div class="input">
<div class="sourceCode" id="cb20"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> merge <span class="at">--abort</span></span></code></pre></div>
</div>
<p>At that point, you’re back to the last commit you had on the
<code>main</code> branch.</p>
<p>You probably want to help Git with the merge, though. The way you
help Git with the merge is to open the file that’s listed in the
conflict and take a look. The file’s contents are going to look
something like:</p>
<div class="output">
<pre><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
the content that&#39;s in the main branch
=======
the content that&#39;s in the branch you were trying to merge
&gt;&gt;&gt;&gt;&gt;&gt;&gt; my-other-new-branch</code></pre>
</div>
<p>Git is highlighting the change that it couldn’t merge. Your job to
help Git is to replace this entire block (everything between
<code>&lt;&lt;&lt;&lt;&lt;&lt;</code> and
<code>&gt;&gt;&gt;&gt;&gt;&gt;</code>) with what is the correct way to
“merge” this. The “correct” way to merge this, of course, depends on the
files that you’re tracking the history of. If you’re tracking Java
files, for example, you’ll have to figure out and then write whatever
the actually correct and compilable version of code should be for this
section.</p>
<p>Once you’ve done that and you’re satisfied with the changes, you
should <code>add</code> the changes that you made, then
<code>commit</code>:</p>
<div class="input">
<div class="sourceCode" id="cb22"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add .</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">&quot;Merge with my-other-new-branch&quot;</span></span></code></pre></div>
</div>
<p><span class="emoji" data-emoji="tada">🎉</span>! You just resolved a
merge conflict!</p>
</div>
<h1 id="synchronizing-projects-between-computers">Synchronizing projects
between computers</h1>
<p>Doing <code>scp</code> is, honestly, a little tedious. Even using
graphical tools is pretty tedious.</p>
<p>One way (among many!) that you can keep your folders synchronized
between two different computers is to use a remote <code>git</code>
repository, cloning and pulling on the “secondary” computer (Aviary in
this case).</p>
<p>You’ve already got your repository on Aviary, so let’s clone the
repository onto your own personal computer.</p>
<h2 id="install-git">Install Git</h2>
<p>Git is originally a command-line tool (how you’ve been using it). You
can install <code>git</code> on all of Windows, macOS, and Linux. How
you install it depends on which of those that you’re using.</p>
<details>
<summary>
Installing Git on macOS
</summary>
<p>You can install Git in several ways on macOS, but probably the most
straightforward way is to install <a
href="https://developer.apple.com/xcode/">Xcode</a>. This honestly feels
a bit like <a
href="https://en.wikipedia.org/wiki/Overkill_(term)">overkill</a>; we’re
installing an entire programming environment and multiple programming
language compilers just to get Git, but it really is the most
straightforward way to get Git. The easiest way to install Xcode is from
the <a href="https://apps.apple.com/us/app/xcode/id497799835?mt=12">Mac
App Store</a>.</p>
<p>If you’re feeling adventurous, you can take an alternative approach
and install <a href="https://brew.sh/">Homebrew</a>. If you take this
approach, I’ll give you a link to the <a
href="https://git-scm.com/download/mac">macOS install page on Git’s
website</a>, but you’re otherwise on your own.</p>
</details>
<details>
<summary>
Installing Git on Windows
</summary>
<p>You can install Git for Windows by downloading the installer on <a
href="https://git-scm.com/download/win">Git’s “Download for Windows”
page</a>. You almost certainly want to download the <strong>Standalone
Installer</strong>, and you almost certainly want to download the
“64-bit Git for Windows Setup”. Download the installer, launch it, and
follow the instructions on-screen. You should be able to accept all
default options in the install process.</p>
<p>If you’re feeling adventurous, you can take an alternative approach
and install either <a
href="https://learn.microsoft.com/en-us/windows/package-manager/winget/">winget</a>
or <a href="https://chocolatey.org/">Chocolatey</a> and install Git
using a package manager. If you choose to take this approach, you’re on
your own.</p>
</details>
<details>
<summary>
Installing Git on Linux
</summary>
<p>The best way to install Git on your Linux machine is from the command
line, using your package manager. We’re not going to talk much about
package managers (yet), but <a
href="https://git-scm.com/download/linux">Git’s “Download for Linux and
Unix” page</a> lists the exact command that you need to run for most
popular Linux distributions. Find yours and run it.</p>
<p>You do need to run these commands as the <code>root</code> user. If
you’ve used <code>sudo</code> before, this is what you should use to run
these commands. If you’re not sure what to do here, you should ask for
help.</p>
</details>
<h2 id="workflow">Workflow</h2>
<p>You can generally keep using <code>git</code> the way that you’ve
been using it up until now: make changes to your files, stage the
changes with <code>add</code>, then <code>commit</code> the changes to
history.</p>
<p>Now you should also <code>push</code> to your remote repository
occasionally:</p>
<div class="input">
<div class="sourceCode" id="cb23"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> push</span></code></pre></div>
</div>
<p>You <em>don’t</em> need to do <code>-u origin</code>.</p>
<p>To get the changes on your other computer, you should use
<code>git pull</code>:</p>
<div class="input">
<div class="sourceCode" id="cb24"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> pull</span></code></pre></div>
</div>
<p>Depending on what you’ve done with your repositories, you may get
merge conflicts when you pull (if you edited a file on your local
computer <em>and</em> on Aviary). You can deal with merge conflicts as
described above.</p>
<h1 id="further-reading">Further reading</h1>
<p>This is <strong>a lot</strong>.</p>
<p>Git is an incredibly big tool with lots of ways to use it, and we
couldn’t possibly look at every possible way to use it.</p>
<p>Instead, here are some additional resources for using Git that you
can check out:</p>
<ul>
<li>The <a href="https://git-scm.com/doc">Documentation page</a> on
Git’s homepage. This actually has several sub-resources that you should
check out: a complete reference manual for Git, “Pro Git” (a book), and
a series of videos introducing basic Git.</li>
<li><a href="https://docs.gitlab.com/ee/tutorials/">Learn GitLab with
tutorials</a> is a pretty comprehensive overview of
<strong>GitLab</strong> itself. There’s a lot about Git in this set of
tutorials, but the target for these tutorials is specifically how to use
GitLab. Some of the skills that you learn here would be transferable to
something like GitHub.</li>
<li><a href="https://www.learnenough.com/git-tutorial">Learn Enough Git
to be Dangerous</a> is a good resource for version control basics. Part
of it is free, but it isn’t entirely free.</li>
<li><a href="https://skills.github.com/">GitHub Skills</a> is a suite of
resources similar to “Learn GitLab with tutorials”, but targeting GitHub
specifically.</li>
<li><a href="https://ohmygit.org/">Oh My Git!</a> is a game to help
learning how to use Git and its concepts.</li>
</ul>

</div> <!-- article-content -->

<div id="footer-nav-bar">
<div><a href="topic-1.html">←prev</a></div><div class="nav-bar-push"><a href="topic-3.html">next→</a></div>
</div>

</div> <!-- article-box -->

</div> <!-- trunk-box -->

<div id="my-footer">
&copy; Franklin Bristow and <a href="https://github.com/University-of-Manitoba-Computer-Science/tools-n-techniques/graphs/contributors">others</a> (2022, 2023, 2024) <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a><br/>
<a href="topic-2.md">Pandoc-Markdown source for this page</a><br/>
(Docs processed by
<a href="http://www.unexpected-vortices.com/sw/rippledoc/index.html">Rippledoc</a>.)
</div> <!-- my-footer -->

</div> <!-- main-outer-box -->

</body>
</html>
